import comp from "F:/qBlogPlus/docs/.vuepress/.temp/pages/blog/指定窗口句柄截图.html.vue"
const data = JSON.parse("{\"path\":\"/blog/%E6%8C%87%E5%AE%9A%E7%AA%97%E5%8F%A3%E5%8F%A5%E6%9F%84%E6%88%AA%E5%9B%BE.html\",\"title\":\"指定窗口句柄截图\",\"lang\":\"en-US\",\"frontmatter\":{\"title\":\"指定窗口句柄截图\",\"date\":\"2024-03-17T00:00:00.000Z\",\"category\":[\"History\"],\"tag\":[\"windows\",\"外挂\"]},\"headers\":[],\"git\":{\"updatedTime\":1710776868000,\"contributors\":[{\"name\":\"wqby\",\"email\":\"9479421@qq.com\",\"commits\":1}]},\"filePathRelative\":\"blog/指定窗口句柄截图.md\",\"excerpt\":\"\\n<p>最近在编写一款象棋AI辅助，用到了图片标注训练，所以要截取象棋游戏本身的窗口图片进行训练。</p>\\n<p>常规的windows指定窗口句柄进行截图的方法如下：</p>\\n<div class=\\\"language-c\\\" data-ext=\\\"c\\\" data-title=\\\"c\\\"><pre class=\\\"language-c\\\"><code>HBITMAP <span class=\\\"token function\\\">windowsShot</span><span class=\\\"token punctuation\\\">(</span>HWND hwnd<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    RECT rect<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">GetWindowRect</span><span class=\\\"token punctuation\\\">(</span>hwnd<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">&amp;</span>rect<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    HDC hdc <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">GetWindowDC</span><span class=\\\"token punctuation\\\">(</span>hwnd<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    HDC memDC<span class=\\\"token punctuation\\\">;</span>\\n    memDC <span class=\\\"token operator\\\">=</span> <span class=\\\"token operator\\\">::</span><span class=\\\"token function\\\">CreateCompatibleDC</span><span class=\\\"token punctuation\\\">(</span>hdc<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    HBITMAP memBitmap<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> width <span class=\\\"token operator\\\">=</span> rect<span class=\\\"token punctuation\\\">.</span>right <span class=\\\"token operator\\\">-</span> rect<span class=\\\"token punctuation\\\">.</span>left<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">int</span> height <span class=\\\"token operator\\\">=</span> rect<span class=\\\"token punctuation\\\">.</span>bottom <span class=\\\"token operator\\\">-</span> rect<span class=\\\"token punctuation\\\">.</span>top<span class=\\\"token punctuation\\\">;</span>\\n    memBitmap <span class=\\\"token operator\\\">=</span> <span class=\\\"token operator\\\">::</span><span class=\\\"token function\\\">CreateCompatibleBitmap</span><span class=\\\"token punctuation\\\">(</span>hdc<span class=\\\"token punctuation\\\">,</span>width<span class=\\\"token punctuation\\\">,</span>height<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">SelectObject</span><span class=\\\"token punctuation\\\">(</span>memDC<span class=\\\"token punctuation\\\">,</span> memBitmap<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token function\\\">BitBlt</span><span class=\\\"token punctuation\\\">(</span>memDC<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> width<span class=\\\"token punctuation\\\">,</span> height<span class=\\\"token punctuation\\\">,</span> hdc<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> SRCCOPY<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">//删除创建的兼容内存DC</span>\\n    <span class=\\\"token function\\\">DeleteDC</span><span class=\\\"token punctuation\\\">(</span>memDC<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">//释放窗口DC</span>\\n    <span class=\\\"token function\\\">ReleaseDC</span><span class=\\\"token punctuation\\\">(</span>hwnd<span class=\\\"token punctuation\\\">,</span> hdc<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">return</span> memBitMap<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">int</span> <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">{</span>\\n    CImage image<span class=\\\"token punctuation\\\">;</span>\\n    HBITMAP memBitMap <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">windowsShot</span><span class=\\\"token punctuation\\\">(</span>要获取的窗口句柄<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\timage<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">Attach</span><span class=\\\"token punctuation\\\">(</span>memBitMap<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\timage<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">Save</span><span class=\\\"token punctuation\\\">(</span>L<span class=\\\"token string\\\">\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\1.png\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\timage<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">Detach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\t<span class=\\\"token function\\\">DeleteObject</span><span class=\\\"token punctuation\\\">(</span>memBitmap<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div>\"}")
export { comp, data }
